(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{378:function(t,s,e){"use strict";e.r(s);var a=e(12),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"openvas-vulnerability-assessment-scanner"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#openvas-vulnerability-assessment-scanner"}},[t._v("#")]),t._v(" OpenVAS Vulnerability Assessment Scanner")]),t._v(" "),e("TagLinks"),t._v(" "),e("p",[t._v("OpenVAS is a full-featured vulnerability scanner. Its capabilities include unauthenticated testing, authenticated testing, various high level and low level Internet and industrial protocols, performance tuning for large-scale scans and a powerful internal programming language to implement any type of vulnerability test.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.openvas.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenVAS website"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/greenbone/openvas",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Setup and configuration has been tested on following OS with version:")]),t._v(" "),e("ul",[e("li",[t._v("Ubuntu- 16.04, 18.04, 20.04, CentOS 8")]),t._v(" "),e("li",[t._v("OpenVAS 20.08 for Debian 10 visit "),e("a",{attrs:{href:"https://sadsloth.net/post/install-gvm-20_08-src-on-debian/",target:"_blank",rel:"noopener noreferrer"}},[t._v("sadsloth.net"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("li",[t._v("GVM-9 (OpenVAS-9), GVM-20.08 (OpenVAS 20.08), Atomicorp 20.08 (RHEL 8, CentOS 8, Fedora 32)")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("p",[t._v("GVM-9 (OpenVAS-9) reached end-of-life support. GVM 10 and 11 will reach end-of-life support in the end of 2020.")])]),t._v(" "),e("h2",{attrs:{id:"configuration-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-files"}},[t._v("#")]),t._v(" Configuration files")]),t._v(" "),e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),e("p",[t._v("Dependencies required to install OpenVAS 20.08 from source on Ubuntu 20.04:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("build-essential")])]),t._v(" "),e("li",[e("code",[t._v("cmake")])]),t._v(" "),e("li",[e("code",[t._v("gnutls-bin")])]),t._v(" "),e("li",[e("code",[t._v("pkg-config")])]),t._v(" "),e("li",[e("code",[t._v("glib2.0")])]),t._v(" "),e("li",[e("code",[t._v("libgnutls28-dev")])]),t._v(" "),e("li",[e("code",[t._v("libssh-dev")])]),t._v(" "),e("li",[e("code",[t._v("libssl-dev")])]),t._v(" "),e("li",[e("code",[t._v("libhiredis-dev")])]),t._v(" "),e("li",[e("code",[t._v("redis-server")])]),t._v(" "),e("li",[e("code",[t._v("libxml2-dev")])]),t._v(" "),e("li",[e("code",[t._v("doxygen")])]),t._v(" "),e("li",[e("code",[t._v("xsltproc")])]),t._v(" "),e("li",[e("code",[t._v("libldap2-dev")])]),t._v(" "),e("li",[e("code",[t._v("libgcrypt-dev")])]),t._v(" "),e("li",[e("code",[t._v("libpcap-dev")])]),t._v(" "),e("li",[e("code",[t._v("libgpgme-dev")])]),t._v(" "),e("li",[e("code",[t._v("libradcli-dev")])]),t._v(" "),e("li",[e("code",[t._v("graphviz")])]),t._v(" "),e("li",[e("code",[t._v("bison")])]),t._v(" "),e("li",[e("code",[t._v("libksba-dev")])]),t._v(" "),e("li",[e("code",[t._v("libical-dev")])]),t._v(" "),e("li",[e("code",[t._v("libpq-dev")])]),t._v(" "),e("li",[e("code",[t._v("postgresql")])]),t._v(" "),e("li",[e("code",[t._v("postgresql-contrib")])]),t._v(" "),e("li",[e("code",[t._v("postgresql-server-dev-all")])]),t._v(" "),e("li",[e("code",[t._v("libopenvas-dev")])]),t._v(" "),e("li",[e("code",[t._v("heimdal-dev")])]),t._v(" "),e("li",[e("code",[t._v("libpopt-dev")])]),t._v(" "),e("li",[e("code",[t._v("xmltoman")])]),t._v(" "),e("li",[e("code",[t._v("gcc-mingw-w64")])]),t._v(" "),e("li",[e("code",[t._v("nmap")])]),t._v(" "),e("li",[e("code",[t._v("npm")])]),t._v(" "),e("li",[e("code",[t._v("nodejs")])]),t._v(" "),e("li",[e("code",[t._v("libpthread-stubs0-dev")])]),t._v(" "),e("li",[e("code",[t._v("clang-format")])]),t._v(" "),e("li",[e("code",[t._v("libmicrohttpd-dev")])]),t._v(" "),e("li",[e("code",[t._v("yarn")])]),t._v(" "),e("li",[e("code",[t._v("virtualenv")])]),t._v(" "),e("li",[e("code",[t._v("python3-paramiko")])]),t._v(" "),e("li",[e("code",[t._v("python3-lxm")])]),t._v(" "),e("li",[e("code",[t._v("python3-defusedxml")])]),t._v(" "),e("li",[e("code",[t._v("python3-pip")])]),t._v(" "),e("li",[e("code",[t._v("python3-psutil")])])]),t._v(" "),e("h2",{attrs:{id:"install-openvas-20-08-from-source"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-openvas-20-08-from-source"}},[t._v("#")]),t._v(" Install OpenVAS 20.08 from source")]),t._v(" "),e("p",[t._v("First install all the dependencies.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo apt-get install build-essential cmake gnutls-bin pkg-config glib2.0 libgnutls28-dev libssh-dev libssl-dev redis-server libhiredis-dev libxml2-dev doxygen xsltproc libldap2-dev libgcrypt-dev libpcap-dev libgpgme-dev libradcli-dev graphviz bison libksba-dev libical-dev libpq-dev postgresql postgresql-contrib postgresql-server-dev-all libopenvas-dev heimdal-dev libpopt-dev xmltoman gcc-mingw-w64 nmap libmicrohttpd-dev npm nodejs virtualenv python3-paramiko python3-lxm python3-defusedxml python3-pip python3-psutil\n")])])]),e("p",[t._v("Continue to install yarn using npm with the specified installation path.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo npm install -g yarn --prefix /usr/\n")])])]),e("p",[t._v("First create the profile and export path for our gvm user.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ echo 'export PATH=\"$PATH:/opt/gvm/bin:/opt/gvm/sbin:/opt/gvm/.local/bin\"' | sudo tee -a /etc/profile.d/gvm.sh\nserver@ubuntu:~$ sudo chmod 0755 /etc/profile.d/gvm.sh\nserver@ubuntu:~$ source /etc/profile.d/gvm.sh\n")])])]),e("p",[t._v("Now create the "),e("code",[t._v("gvm.conf")]),t._v(" and set the gvm-libs path.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo nano /etc/ld.so.conf.d/gvm.conf\n# gmv-libs location\n/opt/gvm/lib\n")])])]),e("p",[t._v("Once saved the "),e("code",[t._v("gvm.conf")]),t._v(" create the OpenVAS gvm user.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo mkdir /opt/gvm\nserver@ubuntu:~$ sudo adduser gvm --disabled-password --home /opt/gvm/ --no-create-home --gecos ''\nserver@ubuntu:~$ sudo usermod -aG redis gvm\nserver@ubuntu:~$ sudo chown gvm:gvm /opt/gvm/\nserver@ubuntu:~$ sudo su - gvm\n")])])]),e("p",[t._v("Run the command "),e("code",[t._v("pwd")]),t._v(" and you should be in the "),e("code",[t._v("/opt/gvm/")]),t._v(" directory. Proceed to create the source directory where we will download and build all required packages and set the package configuration path.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ mkdir src\ngvm@ubuntu:~$ cd src/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\n")])])]),e("p",[t._v("Download and build the "),e("a",{attrs:{href:"https://github.com/greenbone/gvm-libs",target:"_blank",rel:"noopener noreferrer"}},[t._v("GVM Libraries"),e("OutboundLink")],1),t._v(" version 20.8.0.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ git clone -b gvm-libs-20.08 --single-branch https://github.com/greenbone/gvm-libs.git\ngvm@ubuntu:~$ cd gvm-libs/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ mkdir build\ngvm@ubuntu:~$ cd build\ngvm@ubuntu:~$ cmake -DCMAKE_INSTALL_PREFIX=/opt/gvm ..\ngvm@ubuntu:~$ make\ngvm@ubuntu:~$ make doc\ngvm@ubuntu:~$ make install\ngvm@ubuntu:~$ cd /opt/gvm/src/\n")])])]),e("p",[t._v("Download and build the "),e("a",{attrs:{href:"https://github.com/greenbone/openvas-smb",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenVAS Samba package for Windows usage"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ git clone -b master --single-branch https://github.com/greenbone/openvas-smb.git\ngvm@ubuntu:~$ cd openvas-smb/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ mkdir build\ngvm@ubuntu:~$ cd build/\ngvm@ubuntu:~$ cmake -DCMAKE_INSTALL_PREFIX=/opt/gvm ..\ngvm@ubuntu:~$ make install\ngvm@ubuntu:~$ cd /opt/gvm/src/\n")])])]),e("p",[t._v("Download and install the "),e("a",{attrs:{href:"https://github.com/greenbone/openvas",target:"_blank",rel:"noopener noreferrer"}},[t._v("openvas-scanner (OpenVAS)"),e("OutboundLink")],1),t._v(" version 20.8.0.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ git clone -b openvas-20.08 --single-branch https://github.com/greenbone/openvas.git\ngvm@ubuntu:~$ cd openvas/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ mkdir build\ngvm@ubuntu:~$ cd build/\ngvm@ubuntu:~$ cmake -DCMAKE_INSTALL_PREFIX=/opt/gvm ..\ngvm@ubuntu:~$ make\ngvm@ubuntu:~$ make doc\ngvm@ubuntu:~$ make install\ngvm@ubuntu:~$ exit\n")])])]),e("p",[t._v("Next configure redis for the default OpenVAS installation.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('server@ubuntu:~$ sudo su\nroot@ubuntu:~$ export LC_ALL="C"\nroot@ubuntu:~$ ldconfig\nroot@ubuntu:~$ cp /etc/redis/redis.conf /etc/redis/redis.orig\nroot@ubuntu:~$ cp /opt/gvm/src/openvas/config/redis-openvas.conf /etc/redis/\nroot@ubuntu:~$ chown redis:redis /etc/redis/redis-openvas.conf\nroot@ubuntu:~$ echo "db_address = /run/redis-openvas/redis.sock" > /opt/gvm/etc/openvas/openvas.conf\nroot@ubuntu:~$ systemctl enable redis-server@openvas.service\nroot@ubuntu:~$ systemctl start redis-server@openvas.service\n')])])]),e("p",[t._v("OpenVAS will be launched from an ospd-openvas process. The process need to be executed using sudo. Update the sudoers file accordingly.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ visudo\n#\n# This file MUST be edited with the 'visudo' command as root.\n#\n# Please consider adding local content in /etc/sudoers.d/ instead of\n# directly modifying this file.\n#\n# See the man page for details on how to write a sudoers file.\n#\nDefaults        env_reset\nDefaults        mail_badpass\nDefaults        secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/opt/gvm/sbin\"\n")])])]),e("p",[t._v("Also in the sudoers file add the following lines to give the gvm user root privileges to execute OpenVAS and the greenbone security assistant (gsad).")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# Allow members of group sudo to execute any command\n%sudo   ALL=(ALL:ALL) ALL\n\n### Allow gvm user to run ospd-openvas and launch OpenVAS with root privileges\ngvm ALL = NOPASSWD: /opt/gvm/sbin/openvas\ngvm ALL = NOPASSWD: /opt/gvm/sbin/gsad\n")])])]),e("p",[t._v("Once we saved the updated sudoers file we can update Network Vulnerability Tests (NVT) from Greenbone community feed (this might take awhile).")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ exit\nserver@ubuntu:~$ sudo su - gvm\ngvm@ubuntu:~$ greenbone-nvt-sync\n")])])]),e("p",[t._v("Next download and install the "),e("a",{attrs:{href:"https://github.com/greenbone/gvmd",target:"_blank",rel:"noopener noreferrer"}},[t._v("Greenbone Vulnerability Manager (GVM)"),e("OutboundLink")],1),t._v(" version 20.8.0.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ cd /opt/gvm/src/\ngvm@ubuntu:~$ git clone -b gvmd-20.08 --single-branch https://github.com/greenbone/gvmd.git\ngvm@ubuntu:~$ cd gvmd/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ mkdir build\ngvm@ubuntu:~$ cd build/\ngvm@ubuntu:~$ cmake -DCMAKE_INSTALL_PREFIX=/opt/gvm ..\ngvm@ubuntu:~$ make\ngvm@ubuntu:~$ make doc\ngvm@ubuntu:~$ make install\ngvm@ubuntu:~$ exit\n")])])]),e("h3",{attrs:{id:"configure-postgresql-database"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure-postgresql-database"}},[t._v("#")]),t._v(" Configure PostgreSQL database")]),t._v(" "),e("p",[t._v("For additional information see reference greenbone/gvmd "),e("a",{attrs:{href:"https://github.com/greenbone/gvmd/blob/master/INSTALL.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("INSTALL.md"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("First make sure that the required dependencies been installed (see "),e("a",{attrs:{href:"#prerequisites"}},[t._v("Prerequisites")]),t._v("). Proceed to create a Postgres user and database.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('server@ubuntu:~$ sudo -u postgres bash\npostgres@ubuntu:/home/server$ export LC_ALL="C"\npostgres@ubuntu:/home/server$ createuser -DRS gvm\npostgres@ubuntu:/home/server$ createdb -O gvm gvmd\n')])])]),e("p",[t._v("Setup correct permissions.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo -u postgres bash\npostgres@ubuntu:/home/server$ psql gvmd\ngvmd=# create role dba with superuser noinherit;\ngvmd=# grant dba to gvm;\n")])])]),e("p",[t._v("Create database extensions.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('server@ubuntu:~$ sudo -u postgres bash\npostgres@ubuntu:/home/server$ psql gvmd\ngvmd=# create extension "uuid-ossp";\ngvmd=# create extension "pgcrypto";\ngvmd=# exit\npostgres@ubuntu:/home/server$ exit\n')])])]),e("p",[t._v("Once the database has been configured proceed and create the certificates.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo su - gvm\ngvm@ubuntu:~$ gvm-manage-certs -a\n")])])]),e("p",[t._v("Create the gvm administration user. Do not forget to change the password later.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("p",[t._v("Do not use special characters in the password.")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ /opt/gvm/sbin/gvmd --create-user=admin --password=admin\nUser created.\n")])])]),e("p",[t._v("Next lets retrieve our administrators uuid.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ gvmd --get-users --verbose\ngvm@ubuntu:~$ admin 129a1661-138b-4017-25x1-xc0231f91222\n")])])]),e("p",[t._v("Use the administration uuid and modify the gvmd settings as beneath.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ gvmd --modify-setting 78eceaec-3385-11ea-b237-28d24461215b --value 129a1661-138b-4017-25x1-xc0231f91222\n")])])]),e("p",[t._v("Next update the greenbone feed synchronisation one by one (this might take awhile).")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ greenbone-feed-sync --type GVMD_DATA\ngvm@ubuntu:~$ greenbone-feed-sync --type SCAP\ngvm@ubuntu:~$ greenbone-feed-sync --type CERT\n")])])]),e("p",[t._v("Proceed to download and install the "),e("a",{attrs:{href:"https://github.com/greenbone/gsa",target:"_blank",rel:"noopener noreferrer"}},[t._v("Greenbone Security Assistant (GSA)"),e("OutboundLink")],1),t._v(" version 20.8.0.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ cd src/\ngvm@ubuntu:~$ git clone -b gsa-20.08 --single-branch https://github.com/greenbone/gsa.git\ngvm@ubuntu:~$ cd gsa/\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ mkdir build\ngvm@ubuntu:~$ cd build/\ngvm@ubuntu:~$ cmake -DCMAKE_INSTALL_PREFIX=/opt/gvm ..\ngvm@ubuntu:~$ make\ngvm@ubuntu:~$ make doc\ngvm@ubuntu:~$ make install\ngvm@ubuntu:~$ touch /opt/gvm/var/log/gvm/gsad.log\n")])])]),e("p",[t._v("Check the version of Python. If the version is not 3.7 make sure to add the repository and install the correct version.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ exit\nserver@ubuntu:~$ python3 --version\nserver@ubuntu:~$ sudo add-apt-repository ppa:deadsnakes/ppa\nserver@ubuntu:~$ sudo apt-get update\nserver@ubuntu:~$ sudo apt-get install python3.7 python3.7-dev\n")])])]),e("p",[t._v("Next install the virtual environment.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo su - gvm\ngvm@ubuntu:~$ cd /opt/gvm/src\ngvm@ubuntu:~$ export PKG_CONFIG_PATH=/opt/gvm/lib/pkgconfig:$PKG_CONFIG_PATH\ngvm@ubuntu:~$ virtualenv --python python3.7  /opt/gvm/bin/ospd-scanner/\ngvm@ubuntu:~$ source /opt/gvm/bin/ospd-scanner/bin/activate\n")])])]),e("p",[t._v("Install ospd")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ git clone -b ospd-20.08 --single-branch https://github.com/greenbone/ospd.git\ngvm@ubuntu:~$ mkdir /opt/gvm/var/run/ospd/\ngvm@ubuntu:~$ cd ospd/\ngvm@ubuntu:~$ pip3 install .\ngvm@ubuntu:~$ cd /opt/gvm/src\n")])])]),e("p",[t._v("Install ospd-openvas")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ git clone -b ospd-openvas-20.08 --single-branch  https://github.com/greenbone/ospd-openvas.git\ngvm@ubuntu:~$ cd ospd-openvas/\ngvm@ubuntu:~$ pip3 install .\n")])])]),e("p",[t._v("Next setup the startup scripts. First we configure the Greenbone manager startup script.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("gvm@ubuntu:~$ exit\nserver@ubuntu:~$ sudo su\nroot@ubuntu:~$ nano /etc/systemd/system/gvmd.service\n")])])]),e("p",[t._v("Paste the following setup to the startup script.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Open Vulnerability Assessment System Manager Daemon\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Documentation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("man:gvmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" https://www.greenbone.net\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Wants")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgresql.service ospd-openvas.service\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgresql.service ospd-openvas.service\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("forking\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("User")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Group")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PIDFile")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/var/run/gvmd.pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WorkingDirectory")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/sbin/gvmd --osp-vt-update"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/var/run/ospd.sock\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecReload")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/bin/kill -HUP "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MAINPID")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillMode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mixed\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Restart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on-failure\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RestartSec")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2min\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillMode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("process\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillSignal")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("SIGINT\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GuessMainPID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PrivateTmp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])])]),e("p",[t._v("Once we saved our first startup script proceed to creat the script for the greenbone security assistant (GSA).")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ nano /etc/systemd/system/gsad.service\n")])])]),e("p",[t._v("Paste the following setup to the GSA startup script.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Greenbone Security Assistant "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gsad"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Documentation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("man:gsad"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" https://www.greenbone.net\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Wants")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvmd.service\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("forking\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PIDFile")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/var/run/gsad.pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WorkingDirectory")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/sbin/gsad --drop-privileges"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Restart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on-failure\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RestartSec")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2min\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillMode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("process\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillSignal")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("SIGINT\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GuessMainPID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PrivateTmp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ nano /etc/systemd/system/ospd-openvas.service\n")])])]),e("p",[t._v("Paste the following setup to the ospd-openvas startup script.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Job that runs the ospd-openvas daemon\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Documentation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("man:gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target redis-server@openvas.service\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Wants")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("redis-server@openvas.service\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Environment")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/bin/ospd-scanner/bin:/opt/gvm/bin:/opt/gvm/sbin:/opt/gvm/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("forking\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("User")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Group")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WorkingDirectory")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PIDFile")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/var/run/ospd-openvas.pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/bin/ospd-scanner/bin/python /opt/gvm/bin/ospd-scanner/bin/ospd-openvas --pid-file /opt/gvm/var/run/ospd-openvas.pid --unix-socket"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gvm/var/run/ospd.sock --log-file /opt/gvm/var/log/gvm/ospd-scanner.log --lock-file-dir /opt/gvm/var/run/ospd/\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Restart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on-failure\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RestartSec")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2min\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillMode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("process\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("KillSignal")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("SIGINT\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GuessMainPID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PrivateTmp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])])]),e("p",[t._v("Reload the system daemon and enable our startup script.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ systemctl daemon-reload\nroot@ubuntu:~$ systemctl enable gvmd\nroot@ubuntu:~$ systemctl enable gsad\nroot@ubuntu:~$ systemctl enable ospd-openvas\nroot@ubuntu:~$ systemctl start gvmd\nroot@ubuntu:~$ systemctl start gsad\nroot@ubuntu:~$ systemctl start ospd-openvas\n")])])]),e("p",[t._v("Next check that all our services are running.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@ubuntu:~$ systemctl status gvmd\nroot@ubuntu:~$ systemctl status gsad\nroot@ubuntu:~$ systemctl status ospd-openvas\n")])])]),e("p",[t._v("Login at your localhost e.g. "),e("code",[t._v("https://192.168.0.1")]),t._v(" with the username "),e("code",[t._v("admin")]),t._v(" and the choosen password.")]),t._v(" "),e("img",{staticClass:"zoom-custom-imgs",attrs:{src:"/img/openvas/gsa_dashboard.png",alt:"GSA dashboard"}}),t._v(" "),e("h2",{attrs:{id:"install-openvas-20-08-centos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-openvas-20-08-centos"}},[t._v("#")]),t._v(" Install OpenVAS 20.08 CentOS")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/Atomicorp/openvas",target:"_blank",rel:"noopener noreferrer"}},[t._v("Atomicorp OpenVAS package"),e("OutboundLink")],1),t._v(" "),e("Badge",{attrs:{text:"non-sponsored",type:"default"}})],1),t._v(" "),e("p",[t._v("Check if SELinux is enabled.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sestatus\nSELinux status:                 enabled\nSELinuxfs mount:                /sys/fs/selinux\nSELinux root directory:         /etc/selinux\nLoaded policy name:             targeted\nCurrent mode:                   enforcing\nMode from config file:          enforcing\n")])])]),e("p",[t._v("If enabled proceed to disable SELinux by running the command below and update the SELinux configuration file.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sudo setenforce 0\nserver@centos:~$ sudo nano /etc/selinux/config\n\n# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n#     enforcing - SELinux security policy is enforced.\n#     permissive - SELinux prints warnings instead of enforcing.\n#     disabled - No SELinux policy is loaded.\nSELINUX=disabled\n")])])]),e("p",[t._v("Save and reboot the system.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sudo shutdown -r now\n")])])]),e("p",[t._v("Once the system rebooted control that SELinux been disabled.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sestatus\nSELinux status:                 disabled\n")])])]),e("p",[t._v("Continue and download the Atomicorp installer.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ wget -q -O - https://updates.atomicorp.com/installers/atomic | sudo sh\n\nFor supported software packages please contact us at: \n\n  sales@atomicorp.com\n\nDo you agree to these terms? (yes/no) [Default: yes] yes\nEnable repo by default? (yes/no) [Default: yes]: yes\n")])])]),e("p",[t._v("Enable PowerTools and install extra packages.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sudo yum config-manager --set-enabled PowerTools\nserver@centos:~$ sudo yum install epel-release\n")])])]),e("p",[t._v("Proceed and install GVM.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sudo yum install gvm\n")])])]),e("p",[t._v("Finally run the GVM configuration script to setup OpenVAS (this might take awhile).")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@centos:~$ sudo gvm-setup\n")])])]),e("p",[t._v("Once the GVM setup been complete proceed to set the administrator password.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("p",[t._v("Do not use special characters in the password.")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Updating OpenVAS Manager certificates: Complete\n\nGVMD startup: Done\n\nSet the GSAD admin users password.\nThe admin user is used to configure accounts,\nUpdate NVT's manually, and manage roles.\n\nEnter Administrator Password:\nVerify Administrator Password:\n\nSetup complete\n  Log in to GSAD at https://localhost\n")])])]),e("p",[t._v("Login at your localhost e.g. "),e("code",[t._v("https://192.168.0.1")]),t._v(" with the username "),e("code",[t._v("admin")]),t._v(" and the choosen password.")]),t._v(" "),e("img",{staticClass:"zoom-custom-imgs",attrs:{src:"/img/openvas/gsa_login.png",alt:"GSA login"}}),t._v(" "),e("h2",{attrs:{id:"install-openvas-9-community-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-openvas-9-community-version"}},[t._v("#")]),t._v(" Install OpenVAS-9 community version "),e("Badge",{attrs:{text:"deprecated",type:"warning"}})],1),t._v(" "),e("p",[t._v("First add the OpenVAS PPA repository to our server.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo add-apt-repository ppa:mrazavi/openvas\n")])])]),e("p",[t._v("Next we need to update and install the main packages.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo apt-get update\nserver@ubuntu:~$ sudo apt-get install openvas9\n")])])]),e("p",[t._v("We will also install the OpenVAS9 dev package so we can run single OpenVAS nasl scripts, for fast troubleshooting. Additionaly we will also be adding the vulnerability data by syncing with the Greenbone feeds.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo apt-get install libopenvas9-dev\nserver@ubuntu:~$ sudo greenbone-nvt-sync\nserver@ubuntu:~$ sudo greenbone-scapdata-sync\nserver@ubuntu:~$ sudo greenbone-certdata-sync\n")])])]),e("p",[t._v("To keep OpenVAS up-to-date to run the latest tests, we need to sync the nvt, scap and cert data regularly. To achieve this we will create a script and add it to our cron.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo nano /usr/local/bin/openvas-update\n")])])]),e("p",[t._v("Add the following content to the openvas-update file.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("/usr/sbin/greenbone-nvt-sync\n/usr/sbin/greenbone-certdata-sync\n/usr/sbin/greenbone-scapdata-sync\n/usr/sbin/openvasmd --update --verbose --progress\n/etc/init.d/openvas-manager restart\n/etc/init.d/openvas-scanner restart\n")])])]),e("p",[t._v("Save the file and make it executable.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo chmod a+x /usr/local/bin/openvas-update\n")])])]),e("p",[t._v("We will add the update script to cron with a nightly frequency.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Nightly 0 0 * * * root /usr/local/bin/openvas-update\n")])])]),e("h2",{attrs:{id:"openvas-behind-nginx-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#openvas-behind-nginx-proxy"}},[t._v("#")]),t._v(" OpenVAS behind NGINX Proxy")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo nano /etc/default/openvas-gsa\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defaults for Greenbone Security Assistant initscript")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sourced by /etc/init.d/openvas-gsa")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# installed at /etc/default/openvas-gsa by the maintainer scripts")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To disable HTTPS:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#HTTP_ONLY=1")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To allow <host> as hostname/address part of a Host header:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ALLOW_HEADER_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("openvas.example.com\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To enable http redirection:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("HTTP_REDIRECT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To set listening address:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LISTEN_ADDRESS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To set listening port number:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PORT_NUMBER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000")]),t._v("\n")])])]),e("p",[t._v("Restart openvas-gsa "),e("code",[t._v("sudo systemctl restart openvas-gsa")]),t._v(". Edit the NGINX configuration to fit the environment.")]),t._v(" "),e("div",{staticClass:"language-nginx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nginx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl")]),t._v(" http2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl")]),t._v(" http2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v(" openvas"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SSL CERTIFICATES")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("openvas"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("crt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate_key")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("openvas"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_protocols")]),t._v(" TLSv1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_ciphers")]),t._v(" ECDHE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES256"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA512"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("DHE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES256"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA512"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ECDHE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES256"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA384"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("DHE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES256"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA384"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ECDHE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES256"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA384"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_prefer_server_ciphers")]),t._v(" on"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_dhparam")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dhparams"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Frame"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Options "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SAMEORIGIN"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("XSS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Protection "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1; mode=block"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Content"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Type"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Options "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nosniff"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("php"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("charset")]),t._v(" utf"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v("   Host             "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v("   X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Real"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("IP        "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v("   REMOTE_HOST      "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v("   X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("For  "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v("   X"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("FORWARDED"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROTOCOL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$scheme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("https")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("favicon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ico "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v(" off"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("log_not_found")]),t._v(" off"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("robots"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v(" off"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("log_not_found")]),t._v(" off"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v(" off"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error_log")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("var"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("openvas"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("well"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("known"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("deny")]),t._v(" all"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server@ubuntu:~$ sudo systemctl reload nginx.service\n")])])]),e("h2",{attrs:{id:"troubleshooting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),e("p",[t._v("If you encounter any issue or having questions regarding OpenVAS I recommend using their very helpful "),e("a",{attrs:{href:"https://community.greenbone.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("community forum"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"sec-error-inadequate-key-usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sec-error-inadequate-key-usage"}},[t._v("#")]),t._v(" SEC_ERROR_INADEQUATE_KEY_USAGE")]),t._v(" "),e("p",[t._v("If receving "),e("code",[t._v("SEC_ERROR_INADEQUATE_KEY_USAGE")]),t._v(" and the browser blocks access to the local GVM server, proceed with removing the certificate. For example in Firefox go to "),e("code",[t._v("about:preferences#privacy")]),t._v(" and the certificate section. Select Show certificates, click the Servers tab and remove the certificates found under GVM Users.")]),t._v(" "),e("h2",{attrs:{id:"enterprise-solutions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enterprise-solutions"}},[t._v("#")]),t._v(" Enterprise solutions "),e("Badge",{attrs:{text:"non-sponsored",type:"default"}})],1),t._v(" "),e("h3",{attrs:{id:"the-greenbone-security-manager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-greenbone-security-manager"}},[t._v("#")]),t._v(" The Greenbone Security Manager")]),t._v(" "),e("p",[t._v("The Greenbone Security Manager (GSM) is an appliance for vulnerability scanning and management. It is offered in various performance levels and basically supports an unlimited number of target systems. The actually achievable number depends on the scan pattern and scan targets. For finding the right model for your purpose, we provide reference values for the number of target IP addresses below, assuming a common scenario with a scan every 24 hours.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.greenbone.net/en/product-comparison/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Greenbone Security Manager"),e("OutboundLink")],1)]),t._v(" "),e("social-share")],1)}),[],!1,null,null,null);s.default=n.exports}}]);