{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{210:function(t,a,s){\"use strict\";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"m-monit-system-monitoring\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#m-monit-system-monitoring\"}},[t._v(\"#\")]),t._v(\" M/Monit System Monitoring\")]),t._v(\" \"),s(\"p\",[t._v(\"Setup and configuration has been tested on following OS with version:\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"m-monit\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#m-monit\"}},[t._v(\"#\")]),t._v(\" M/Monit\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"Ubuntu 16.04, 18.04\")]),t._v(\" \"),s(\"li\",[t._v(\"3.6.0 -> 3.7.3\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"monit\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#monit\"}},[t._v(\"#\")]),t._v(\" Monit\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"Ubuntu 16.04, 18.04\")]),t._v(\" \"),s(\"li\",[t._v(\"5.16.0 -> 5.26.0\")])]),t._v(\" \"),s(\"div\",{staticClass:\"custom-block warning\"},[s(\"p\",{staticClass:\"custom-block-title\"},[t._v(\"NOTE\")]),t._v(\" \"),s(\"p\",[t._v(\"M/Monit is a non-free software to montior and manage all Monit enabled hosts.\")])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"configuration-files\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#configuration-files\"}},[t._v(\"#\")]),t._v(\" Configuration files\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/featzor/docs/blob/master/conf/mmonit/monitrc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"monitrc\"),s(\"OutboundLink\")],1)])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"prerequisites\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prerequisites\"}},[t._v(\"#\")]),t._v(\" Prerequisites\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"zlib1g-dev\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"libssl-dev\")])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"installation\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#installation\"}},[t._v(\"#\")]),t._v(\" Installation\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"installing-m-monit-on-ubuntu\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#installing-m-monit-on-ubuntu\"}},[t._v(\"#\")]),t._v(\" Installing M/Monit on Ubuntu\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"/img/ubuntu.png\",alt:\"Ubuntu\"}})]),t._v(\" \"),s(\"p\",[t._v(\"To download the latest version of M/Monit visit the \"),s(\"a\",{attrs:{href:\"https://mmonit.com/download/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"official website\"),s(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"foo@bar:~$ wget https://mmonit.com/dist/mmonit-3.7.3-linux-x64.tar.gz\\n\")])])]),s(\"p\",[t._v(\"Proceed to unpack the downloaded tar gzip package.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"foo@bar:~$ tar -zxvf mmonit-3.7.3-linux-x64.tar.gz\\n\")])])]),s(\"p\",[t._v(\"Now execute the M/Monit program located in the bin directory.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"foo@bar:~$ cd mmonit-3.7.3-linux-x64/bin/\\nfoo@bar:~$ sudo ./mmonit\\n\")])])]),s(\"p\",[t._v(\"Go to your browser and visit \"),s(\"code\",[t._v(\"http://localhost:8080\")]),t._v(\". Make sure that you did open the port. Check the Firewall settings in later chapter. Login using the default credentials user \"),s(\"strong\",[t._v(\"admin\")]),t._v(\" with password \"),s(\"strong\",[t._v(\"swordfish\")]),t._v(\".\")]),t._v(\" \"),s(\"img\",{staticClass:\"zoom-custom-imgs\",attrs:{src:\"/img/mmonit/mmonit1.png\",alt:\"mmonit login\"}}),t._v(\" \"),s(\"p\",[t._v(\"Click the \"),s(\"strong\",[t._v(\"Admin\")]),t._v(\" tab select \"),s(\"strong\",[t._v(\"Users\")]),t._v(\" and edit or add a new user then delete the Administrator account to overwrite the default credentials.\")]),t._v(\" \"),s(\"p\",[t._v(\"To install the latest version of monit as an agent for m/monit enter the commands below and edit the server specific monit configuration file. If earlier version of monit is already installed, see beneath the following paragraph how to upgrade both m/monit and monit.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ wget https://bitbucket.org/tildeslash/monit/downloads/monit-5.25.3.tar.gz\\n$ tar -zxvf monit-5.25.3.tar.gz\\n$ cd monit-5.25.3/\\n$ sudo ./configure --without-pam\\n$ sudo make && sudo make install\\n$ sudo cp monitrc /usr/local/etc/\\n$ cd /usr/local/etc\\n$ sudo cp monitrc monitrc_bak\\n$ sudo nano monitrc\\n$ cd /usr/local/\\n$ sudo ./bin/monit\\n\")])])]),s(\"h2\",{attrs:{id:\"configuration\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#configuration\"}},[t._v(\"#\")]),t._v(\" Configuration\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ sudo openssl req -new -x509 -days 365 -nodes -out /etc/monit/monit.pem -keyout /etc/monit/monit.pem\\n$ sudo chmod 700 /etc/monit/monit.pem\\n\")])])]),s(\"h2\",{attrs:{id:\"firewall-settings\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#firewall-settings\"}},[t._v(\"#\")]),t._v(\" Firewall settings\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v('$ sudo ufw allow from M/MONIT to any port 2812 comment \"M/Monit\"\\n')])])]),s(\"h2\",{attrs:{id:\"m-monit-behind-nginx-proxy\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#m-monit-behind-nginx-proxy\"}},[t._v(\"#\")]),t._v(\" M/Monit behind NGINX Proxy\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-nginx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-nginx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"location\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_set_header\")]),t._v(\"   Host             \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$http_host\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_set_header\")]),t._v(\"   X\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"Real\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"IP        \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$remote_addr\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_set_header\")]),t._v(\"   REMOTE_HOST      \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$remote_addr\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_set_header\")]),t._v(\"   X\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"Forwarded\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"For  \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$proxy_add_x_forwarded_for\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_set_header\")]),t._v(\"   X\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"FORWARDED\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"PROTOCOL\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$scheme\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"rewrite\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"^\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"$\"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"break\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_pass\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"http\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"127.0\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\".0\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\".1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"8080\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_redirect\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"http\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"192.168\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\".0\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\".1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"8080\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"proxy_cookie_path\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"h2\",{attrs:{id:\"slack-notifications\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#slack-notifications\"}},[t._v(\"#\")]),t._v(\" Slack notifications\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"upgrading\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#upgrading\"}},[t._v(\"#\")]),t._v(\" Upgrading\")]),t._v(\" \"),s(\"p\",[t._v(\"Upgrading M/Monit without overwriting configuration files and databases can be done using the built-in upgrade command.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ cd /usr/local/\\n$ wget https://mmonit.com/dist/mmonit-3.7.0-linux-x64.tar.gz\\n$ tar -zxvf mmonit-3.7.0-linux-x64.tar.gz\\n$ cd /usr/local/mmonit-3.6.2/bin/\\n$ sudo ./mmonit stop\\n$ /usr/local/mmonit-3.7.0/upgrade/upgrade -p /usr/local/mmonit-3.6.2/\\n$ cd /usr/local/mmonit-3.7.0/bin/\\n$ sudo ./mmonit\\n\")])])]),s(\"h2\",{attrs:{id:\"command-line\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#command-line\"}},[t._v(\"#\")]),t._v(\" Command-line\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"troubleshooting\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#troubleshooting\"}},[t._v(\"#\")]),t._v(\" Troubleshooting\")]),t._v(\" \"),s(\"p\",[t._v(\"OpenVAS reports monit to be using weak ciphers accepted through TLS1.0,1.1,1.2 protocol. Add following lines within the ssl section.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-nginx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-nginx\"}},[s(\"code\",[t._v(\"with \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"ssl\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    pemfile\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    version\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" TLSv12\\n    ciphers\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384\"')]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"Resolving the issue if libcrypto.so.1.0.x been removed using the auto remove/clean command, is to reinstall the libssl1.0.x and libssl-dev package.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ sudo apt-get install libssl1.0.x libssl-dev --reinstall\\n\")])])]),s(\"p\",[t._v(\"If package you get configure: error: libz not found, solve that by installing the zlib1g-dev package.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ sudo apt-get install zlib1g-dev\\n\")])])]),s(\"p\",[t._v(\"In case you get the configure error: Couldn’t find your SSL header files. Proceed with install the libssl-dev package.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"$ sudo apt-get install libssl-dev\\n\")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}